---
title: The Mystery of the Malformed S3 Authorization Header
description: How a simple bucket name reuse led to a frustrating hour of debugging in Terraform.
published: true
tags: 'aws, s3, terraform, cloud'
id: 2611782
date: '2025-06-21T09:54:48Z'
---

## The Mystery of the ğŸª„ Malformed S3 Authorization Header

Spent over an hour debugging a simple Terraform setup. It wasnâ€™t Terraformâ€™s fault. It wasnâ€™t my AWS provider config. It wasâ€¦ S3's "bucket name memory" ğŸ¤¯

---

## â“ What Happened

* âœ… I had a working CloudTrail setup in `ap-southeast-1`
* ğŸ—‘ï¸ I deleted the S3 bucket
* ğŸ” Tried to recreate same name in `us-east-1`
* ğŸ’¥ Got this error:

```plaintext
AuthorizationHeaderMalformed: The authorization header is malformed; the region 'us-east-1' is wrong; expecting 'ap-southeast-1'
```

---

## ğŸ” Root Cause

* ğŸª£ **S3 remembers** deleted bucket names and their **original region**
* ğŸŒ **S3 bucket names are global** â€” reused names trigger region conflicts
* ğŸ§  AWS internally caches bucket-region mappings
* ğŸ“› Even though the bucket was deleted, S3 still linked that name to the original region

---

## âœ… What Fixed It

* I renamed the bucket: `-test1` added â†’ it worked instantly
* No region conflict

---

## ğŸ’¡ Lesson

When switching regions:

* ğŸ†• Use **new bucket names**
* ğŸ§¹ Or **wait hours/days** for AWS to fully purge name mapping
* ğŸ§­ Donâ€™t assume a deleted bucket is gone from AWS memory

---

## ğŸ§µ Why This Matters

* â³ I wasted time chasing provider settings
* ğŸ§© Error message was misleading
* ğŸ” Easy to run into during region migrations or reuse

Hope this saves someone a few hours! â±ï¸
